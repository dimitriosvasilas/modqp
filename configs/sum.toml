qpuType = "sum"
port = "50250"

[[connections]]
# address = "dsdriver:50150"
address = "127.0.0.1:50150"
local = "local"

[StateBackend]
endpoint = "127.0.0.1:3308"

[StateBackend.Credentials]
accessKeyID = "root"
secretAccessKey = "123456"

[SumConfig]
SourceTable = "votes"
RecordIDAttribute = ["story_id"]
AttributeToSum = "vote"
[SumConfig.Query]
Projection = ["id", "story_id", "vote"]
IsNull = ["comment_id"]

[[Schema]]
table = "votes"
[[Schema.Attributes]]
key = "story_id"
type = "int"
[[Schema.Attributes]]
key = "comment_id"
type = "int"
[[Schema.Attributes]]
key = "vote"
type = "int"

[[Schema]]
table = "stories_with_votes"
[[Schema.Attributes]]
key = "story_id"
type = "int"
[[Schema.Attributes]]
key = "vote_count"
type = "int"
